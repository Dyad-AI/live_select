export default{LiveSelect:{attachDomEventHandlers(){this.el.querySelector("input[type=text]").onkeydown=e=>{e.code=="Enter"&&e.preventDefault(),this.pushEventTo(this.el,"keydown",{key:e.code})},this.el.querySelector("ul").onmouseover=()=>{this.pushEventTo(this.el,"dropdown-mouseover",{})},this.el.querySelector("ul").onmouseleave=()=>{this.pushEventTo(this.el,"dropdown-mouseleave",{})}},setInputValue(e){this.el.querySelector("input[type=text]").value=e},inputEvent(e){const t=e==="single"?"input[type=hidden]":"select";this.el.querySelector(t).dispatchEvent(new Event("input",{bubbles:!0}))},mounted(){this.handleEvent("reset",({id:e})=>{this.el.id===e&&(this.setInputValue(null),this.inputEvent("single"))}),this.handleEvent("select",({id:e,selection:t,mode:s})=>{if(this.el.id===e)if(s==="single"){const[{label:n}]=t;this.setInputValue(n),this.inputEvent(s)}else this.setInputValue(null),this.inputEvent(s)}),this.attachDomEventHandlers()},updated(){this.attachDomEventHandlers()}}};
